{% extends 'base.html' %}

{% block title %}
Active Alert Channels
{% endblock %}

{% block content %}
    <div class="row">
        <div class="col">
            <form action="{% url 'acknowledge' %}" method="POST">
                {% csrf_token %}
                <table class="table table-striped table-hover table-bordered active-alerts">
                    <caption>Active Alert Channels</caption>
                    <thead class="thead-dark bg-dark">
                        <tr>
                            <td scope="col">Id</td>
                            <td scope="col">Name</td>
                            <td scope="col">Title</td>
                            <td scope="col">Message</td>
                            <td scope="col">Priority</td>
                            <td scope="col">Open</td>
                            <td scope="col">Acknowledge</td>
                        </tr>
                    </thead>
                    <tbody>
                        {% for alert in object_list %}
                            {% include 'vigil/fragments/alert_channel.html' %}
                        {% endfor %}
                    </tbody>
                </table>
                {% if user.is_authenticated %}
                    <div class="form-group text-right">
                        <button type="submit" class="btn btn-dark">Acknowledge checked</button>
                    </div>
                {% endif %}
            </form>
        </div>
    </div>
{% endblock %}

{% block endbodyjs %}
    {% load static %}
    <script type="text/javascript" src='{% static 'vigil/js/alert_list.js' %}'></script>
{% endblock %}
